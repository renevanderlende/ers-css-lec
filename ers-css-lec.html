<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ERS Responsive Sizes in CSS using Linear Equations</title>

<!-- -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cutive&family=Cutive+Mono&family=Open+Sans:wght@300;400;600;700&display=swap"> 
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@300;400;500;600;700&display=swap"> 
<!-- -->

<style id="stl-linear-equations-definition-default">
/******************/
/* VERY, VERY WIP */
/******************/
/*
    math reference:  https://www.mathsisfun.com/equation_of_line.html

    Using 'Linear Equations' to calculate 'responsive' sizes of CSS size properties:
    font-size, width, height, margin, padding, column-width, etc.

    Basically any size property that accepts the use of the CSS 'calc()' function
    can be made 'responsive' with a linear equation.

    Using two points on a straight line: p1(x1,y1) and p2(x2,y2)
    x1,y1 - minimum viewport size and required size at that min vp
    x2,y2 - maximum viewport size and required size at that max vp

    We use either equation:
    'form1' - point-slope form: y - y1 = m(x - x1), simplified y = y1 + m(x - x1)
              fully substituted: y = y1 + (y2 - y1) / (x2 - x1) * (x - x1)
              Most commonly used, long, but only requires points (x1,y1)(x2,y2), CPU intensive.

    'form2' - y-intercept form: y = mx + b
              fully substituted: y = (y2 - y1) / (x2 - x1) * x + (y1 - (y2 - y1) / (x2 - x1) * x1)
              Short, but requires manual calculation of m and b, least CPU intensive.

              Before calculating either equation manually, you might want to have a look at
              'linearToCalc 1.1', a tool that converts a linear equation to CSS 'calc()'. 
              https://github.com/renevanderlende/renevanderlende.github.io/tree/master/js)

    Where:
    y = RISE, resulting 'responsive' size we need for our HTML elements' property

    m = SLOPE or (delta Y / delta X) or (rise / run), steepness of the line
        full equation: m = (y2 - y1) / (x2 - x1)

    x = RUN, current viewport size (always defined as 100vmin,vw,vh or vmax)
        When in doubt: use always '100vmin'

        e.g.
        - font-size: usually document dependend => 100vmin (never vmax)

        - height or width: when document dependend  => 100vmin or vmax
                           when vp height dependend => 100vh
                           when vp width  dependend => 100vw

        BEWARE: Currently LEC only supports one vp size value (--x) at a time, usually not a big problem.
                However, should you need width=vw dependend and height=vh (or v.v.)
                then use a manually calculated y=mx+b equation like I did with <body> font-size.

    b = Y-INTERCEPT, where the line crosses the Y-axis (or value of y at viewport size = 0) => y1 - m * x1
        full equation: b = y1 - (y2 - y1) / (x2 - x1) * x1

    CSS Custom Properties (or CSS variables or cascading variables)
    --y, --m, --x, --b, --x1, --y1, --x2 and --y2 

    Extra Custom Properties:
    --unit   = convert result to PX or REM
    --factor = multiplication factor to convert current size to specified unit
               defaults: 1 for PX and 1/16 (= 0.0625) for REM

    --scale  = scale factor, for easy scaling using the same points
    --ratio  = height or width ratio, e.g. 16:9 = 1.77778, 9:16 = 0.5625, 17:10 = 1.7, etc.
    --sign   = to get a positive or negative end result (think margin, padding, top, left, etc.)
*/
/*
    TODO: 'form3' for compound equations like used in 'stl-widget-ribbon-custom-variables'
          .fork.tr45deg {...}
          
          Long term plan...
*/
[data-LEC] {
    /*
        ALL custom properties are locally scoped to custom attribute [data-LEC]
        unless specifically mentioned otherwise.
    */

    --y: 0; /* equation result */

    /*
        Trying out Custom (Property) Cascades by Miriam Suzanne
        https://codepen.io/mirisuzanne/pen/KKdWXGo
    */
    --x: var(--vx, var(--vw, var(--vh, var(--vm, 100vmin)))); /* either/or */
    /*
        Works, any assigned value to vx,vw,vh or vm computes and overrides default 100vmin.
        However, as LEC always uses a value of 100x we might just as well assign 100vw (etc.)
        directly to --x when required.

        To simply initialize, change to: --x: 100vmin;
    */

    /* 
        Initialize points with default values (here: base document responsive fontsize):
         => y = mx + b for points (320,14)(1280,20) => y = 0.00625x + 12
    */
    /* Variables to hold two point(x,y) values for equation 'form1' */
    --x1:  320; --y1: 14;   /* point p1 => 14px at  320px min vp (pixels, but without unit) */
    --x2: 1280; --y2: 20;   /* point p2 => 20px at 1280px max vp (ditto) */

    /* Variables to hold intermediate values for equation 'form2' */
    --m: 0.00625;           /* 1/160th (decimal) */
    --b: 12;                /* size at x = 0 (pixels, but without unit) */

    /*
        Variables for unit conversion (set to your own default as required).
        Part of the main equations for 'form1' and 'form2'.
    */
    --unit  : 1rem;         /* preferred default unit to use in the equation     */
    --factor: 0.0625;       /* 1/16 as by default REM is used in the equation    */
                            /* change to '1px' and '1' if you want to use pixels */

    /* 
        Variables specific to certain use cases.
        NOT part of the main equations for 'form1' and 'form2'.
        
        e.g. fonts can be scaled, but have no ratio (like oblong elements)
             or a negative sign (like margin, padding, top, right, bottom, left).
    */
    --scale: 1; /* to scale resulting y */
    --ratio: 1; /* to multiply y with a ratio (esp. useful with heights and widths) */
    --sign : 1; /* set to -1 to negate LEC result, default is 1 (= positive) */
}

/*******************************************/
/* Various predefined LEC parameter values */
/*******************************************/

/* LEC unit conversions */
[data-LEC*=".rem"]      { --unit: 1rem; --factor: 0.0625 } /* default */
[data-LEC*=".px" ]      { --unit: 1px ; --factor: 1 }
/*
    Extend this list with your own unit conversions
    (see bottom <script> in this document for a full list of units)
*/

/* positive or negative final result */
[data-LEC*=".pos"]      { --sign:  1 } /* default */
[data-LEC*=".neg"]      { --sign: -1 }

[data-LEC*=".vm"]       { --x: 100vmin } /* default */
[data-LEC*=".vh"]       { --x: 100vh   }
[data-LEC*=".vw"]       { --x: 100vw   }
[data-LEC*=".vx"]       { --x: 100vmax }

/* A few common ratios (5 significant decimals are more than enough) */
[data-LEC*=".1:1"  ]    { --ratio: 1       } /* default */
[data-LEC*=".2:1"  ]    { --ratio: 2       }
[data-LEC*=".1:2"  ]    { --ratio: 0.5     }
[data-LEC*=".3:2"  ]    { --ratio: 1.5     }
[data-LEC*=".2:3"  ]    { --ratio: 0.66667 }
[data-LEC*=".4:3"  ]    { --ratio: 1.33333 }
[data-LEC*=".3:4"  ]    { --ratio: 0.75    }
[data-LEC*=".16:9" ]    { --ratio: 1.77778 }
[data-LEC*=".9:16" ]    { --ratio: 0.5625  }
[data-LEC*=".17:10"]    { --ratio: 1.7     }
[data-LEC*=".10:17"]    { --ratio: 0.58824 }
[data-LEC*=".gr:1" ]    { --ratio: 1.618   } 
[data-LEC*=".1:gr" ]    { --ratio: 0.618   }

/* some default scales */
[data-LEC*=".x0"]       { --scale: 0.5 }
[data-LEC*=".x1"]       { --scale: 1   } /* default */
[data-LEC*=".x2"]       { --scale: 2   }
[data-LEC*=".x3"]       { --scale: 3   }

/* WIP clipping to prevent min/max overflowing */
[data-LEC*=".clp"]      { overflow: hidden }

/*****************/
/* THE EQUATIONS */
/*****************/
[data-LEC] {
    /*
        A few shortcut calculations to improve code readability below.

        --cv-unit: unit multiplication factor with proper CSS unit attached
        --cv-full : --cv-unit (optionally) scaled and negated

        Without --ratio, ratio is specific to oblong elements
                --sign, sign is specific to padding, margin and positioning
    */
    --cv-unit: calc(var(--unit) * var(--factor));
    --cv-full: calc(var(--cv-unit) * var(--scale));
}
[data-LEC],           /* default form for all uses */
[data-LEC^="form1"] { /* generic 'form1' */
    /*
        'form1' calculates a size using point info: (x1,y1)(x2,y2).
        To enable clamping y to a min/max value (like you would do in a @media query)
        a 2 variable workaround is required as explained at '[data-LEC*="clamp"]'.

        IMPORTANT: Do not use/modify '--y-int-unclamped' directly,
                   just treat it as some internal variable.
    */
    /*
        y1 must have a unit, otherwise the calc() will fail.
        Here we use the converted unit factor, which will have a proper CSS unit attached
        (really!).

        and, as viewport size units return pixels, we need convert the result of
        (x - x1) to pixels (* 1px), otherwise the calc() will fail also.
    */
    --y-int-unclamped: calc( (var(--y1) * var(--cv-unit) + 
                             (var(--y2) - var(--y1)) / (var(--x2) - var(--x1)) *
                             (var(--x)  - var(--x1) * 1px)) *
                              var(--scale)
                           );

    --y: var(--y-int-unclamped); /* See NOTE 2 below */
}
[data-LEC^="form2"] { /* generic 'form2' */
    /*
        'form2' calculates a size using variables m,x and b only.
        To be able to clamp y to a min/max value, here too the 2 variable workaround is required.

        BEWARE: make sure when you clamp 'form2' that y1 and y2 have the required min/max values
                (otherwise the current (default) values of y1 and y2 will be used).
    */
    --y-int-unclamped: calc( var(--m) * var(--x) + var(--b) * var(--cv-unit) *
                             var(--scale)
                           );

    --y: var(--y-int-unclamped); /* See NOTE 2 below */
}
/*
    NOTE 2: min/max clamping, two variable workaround

    A temporary variable is needed to enable clamping of y to min.max vp size,
    because code like the following (pseudo) CSS will not work:

    [LEC]           { --y: calc(...LEC...) }
    [LEC*='clamp']  { --y: clamp(var(--y1), var(--y), var(--y2) ) }

    The result of var(--y) in '[LEC*='clamp']' will
    evaluates to 'clamp(calc(--y1), var(--y), calc(--y2))'
    instead of   'calc(...LEC...)', like it would in Javascript: y = clamp(y1,y,y2)

    Hence: y = clamp(var(--y1), var(--y-int-unclamped), var(--y2))
*/

/********************************/
/* USAGE OF THE EQUATION RESULT */
/********************************/
/*
    Element size parameters (Only one allowed)
    -----------------------

    .FS: y = font-size
    .CW: y = column-width
    .H : y = height
    .W : y = width


    Onblong element parameters (Only one allowed)
    --------------------------
    
    .PT: when ratio <> 1 then portrait mode  
    .LS: when ratio <> 1 then landscape mode

    Still TODO, choose: .PT initially in browser portrait mode or in landscape mode???
                        (think of 'card' layouts, prefer .PT in landscape mode...) 
    .IN: when ratio <> 1 then invert .PT/.LS on @media 'orientation' change


    Size constraint parameters (One, both or none allowed)
    --------------------------

    .min = force y >= y1
    .max = force y <= y2
    
    When used with .H and/or .W these parameters will set the elements' min-/max-width and/or
    min-/max-height depending on .PT/.LS and .IN  

*/

/******************************/
/* FONTSIZES and COLUMN-WIDTH */
/******************************/
[data-LEC*=".FS"],[data-LEC*=".CW"] { font-size: var(--y) } /* ignoring --ratio and --sign */

/* Clamp using CSS min(),max() */
[data-LEC*=".FS"][data-LEC*=".min"][data-LEC*=".max"],
[data-LEC*=".CW"][data-LEC*=".min"][data-LEC*=".max"] {
    --y: max( calc(var(--y1) * var(--cv-full)), min( var(--y-int-unclamped), calc(var(--y2) * var(--cv-full)) ) );
}

/*
    Preferred clamping of y uses CSS 'clamp(min, value, max)'
    which is one CSS func() call less than using min()/max(),
    but currently not supported in Safari therefore disabled.

    However, below rule tested to work in Chrome, Edge and Firefox
*/

/* Clamp using CSS clamp() *//*
[data-LEC*=".FS" ][data-LEC*=".clamp"],
[data-LEC*=".CW"][data-LEC*=".clamp"] {
    --y: clamp( calc(var(--y1) * var(--cv-full)), var(--y-int-unclamped), calc(var(--y2) * var(--cv-full)) );
}/**/

/*
    To clamp either minimum or maximum value use one of the below rules.
    Using both '.min' and '.max' will revert back to the rule above!
*/
[data-LEC*=".FS"]:not([data-LEC*=".max"])[data-LEC*=".min"],
[data-LEC*=".CW"]:not([data-LEC*=".max"])[data-LEC*=".min"] {
    --y: max( calc(var(--y1) * var(--cv-full)), var(--y-int-unclamped) );
}
[data-LEC*=".FS"]:not([data-LEC*=".max"])[data-LEC*=".min"],
[data-LEC*=".CW"]:not([data-LEC*=".min"])[data-LEC*=".max"] {
    --y: min( calc(var(--y2) * var(--cv-full)), var(--y-int-unclamped) );
}
/*
    TODO: add possibility to use other min/max variables than only y1 and y2
          [data-LEC*="altclamp"] { ... } ??
*/

/*******************************/
/* element WIDTH and/or HEIGHT */
/*******************************/
/*
    Calculate height and width of an element depending on its orientation (PT = Portrait or LS = Landscape)
    All ignore --sign, as no negative widths or heights are allowed.
*/
[data-LEC*=".W"][data-LEC*=".PT"] { width : var(--y) }
[data-LEC*=".H"][data-LEC*=".PT"] { height: calc(var(--y) * var(--ratio)) }
[data-LEC*=".W"][data-LEC*=".LS"] { width : calc(var(--y) * var(--ratio)) }
[data-LEC*=".H"][data-LEC*=".LS"] { height: var(--y) }

/*
    As --y1 and --y2 are being used for [.min][.max] instead of --y we need
    to put --unit, --factor and --scale into the below equations again. 

    To prevent repeting code like:

        var(--y) * var(--unit) * var(--factor) * var(--scale)
        var(--y) * var(--unit) * var(--factor) * var(--scale) * var(--ratio)

    we create temporary variables instead to create the multiplication factor used in the equations. 
*/
[data-LEC*=".W"],[data-LEC*=".H"] {
    /* Considered to be 'internal variables', do not assign values directly */
    --int-rect1: var(--cv-full); 
    --int-rect2: calc(var(--cv-full) * var(--ratio)); 
}
/*
    Instead of a series of Media Queries to constraint all kind of oblong elements to their
    minimum and maximum values, we use the [.min] and/or [.max] parameters in LEC instead.
    This way we can decide per element to use either min/max constraint or not.
*/
/* Constraints for width and height at minimum viewport size */
[data-LEC*=".W"][data-LEC*=".PT"][data-LEC*=".min"] { min-width : calc(var(--y1) * var(--int-rect1)) }
[data-LEC*=".W"][data-LEC*=".LS"][data-LEC*=".min"] { min-width : calc(var(--y1) * var(--int-rect2)) }
[data-LEC*=".H"][data-LEC*=".PT"][data-LEC*=".min"] { min-height: calc(var(--y1) * var(--int-rect2)) }
[data-LEC*=".H"][data-LEC*=".LS"][data-LEC*=".min"] { min-height: calc(var(--y1) * var(--int-rect1)) }

/* Constraints for width and height at maximum viewport size */
[data-LEC*=".W"][data-LEC*=".PT"][data-LEC*=".max"] { max-width : calc(var(--y2) * var(--int-rect1)) }
[data-LEC*=".W"][data-LEC*=".LS"][data-LEC*=".max"] { max-width : calc(var(--y2) * var(--int-rect2)) }
[data-LEC*=".H"][data-LEC*=".PT"][data-LEC*=".max"] { max-height: calc(var(--y2) * var(--int-rect2)) }
[data-LEC*=".H"][data-LEC*=".LS"][data-LEC*=".max"] { max-height: calc(var(--y2) * var(--int-rect1)) }


@media (max-width: 320px) {
    [data-LEC^="padLR"] {
        padding-left : calc(var(--y1) * var(--cv-full) * var(--sign));
        padding-right: calc(var(--y1) * var(--cv-full) * var(--sign))
     }
    [data-LEC^="padTB"] {
        padding-top   : calc(var(--y1) * var(--cv-full) * var(--sign));
        padding-bottom: calc(var(--y1) * var(--cv-full) * var(--sign))
     }
    /* 
        Add selectors for sizes  at min vp like padding, margin, etc. using 'custom variables'
        BEWARE: element (min-/max-)width or height uses a different approach.
    */
}
@media (min-width: 1280px) { 
    /*
        same strategy here for sizes at max vp ...
    */
}
</style>
<style id="stl-linear-equations-examples">
/*********************************************/
/* All CSS rules specific to this document   */
/* Last, so they can override anything above */
/*********************************************/
/* ...at some point we need to be specific about what we want... */
/*
    Default values (defined in [data-LEC]) are (x1,y1)(x2,y2) = (320,14)(1280,20)
    => using only default viewport min/max of 320 and 1280 for fonts works just fine.
*/
/* LEC demo FONT rules */
[data-font^="hero"]     { --y1: 12; --y2: 66 }
[data-font^="subhero"]  { --y1: 12; --y2: 36 }
[data-font^="subline"]  { --y1: 12; --y2: 18 }
[data-font^="code"]     { --y1:  8; --y2: 20 }

/* LEC demo RECTANGLE/WIDTH/HEIGHT rules */
[data-rect*="test"]>*   {
    --x1: 320; --y1: 75; --x2: 1920; --y2: 225; /* points */
    --x: 100vw;   /* making them viewport width dependent */
}

/* demo cards */
/*.card-outer,*/
[data-rect*="cardlist"]>* {
/*
    parent width (at 320px and 1920px)
    minus scrollbar width (17px)
    minus parent padding (2*8px and 2*320px )
    divide by columns wanted at min (2 cols at 320) and max (4 cols at 1920)

    min = ( 303 -  16)/2 = 143.5
    max = (1903 - 640)/4 = 315.75‬

    LEC with points p1(320,143.5) and p2(1920,315.75)
*/
    --x1: 320; --y1: 143.5; --x2: 1920; --y2: 315.75; /* points */
    --x: 100vw;   /* because cards are viewport width dependent */
    --ratio: 1.67; /* some not predefined ratio */
}
</style>

<style id="stl-widget-ribbon-default">
/*****************************/
/* fork ribbon generic rules */
/*****************************/
.fork {
    box-sizing: border-box; /* [OPTIONAL], but smart when using borders */
    position: fixed; /* using 'absolute' will result in overflow and scrollbar */

    /* Flexbox layout [OPTIONAL], personal preference */
    display: flex; justify-content: center; align-items: center;

    z-index: 999999; /* on top of everything */
    /* maximum value is usually 2^(32 - 1): 32bits number -1 for negative sign */
}
.fork:hover { opacity: 1 }

.fork a {
    box-sizing: border-box; /* [DITTO] */
    width: 100%;
}
/* [OPTIONAL] How to use a custom property for text */
.fork a:before { content: attr(data-ribbon) }

.fork.tr45deg { /* [MANDATORY] for this version to work properly */
    transform-origin: top left; /* pivot around T/L corner of the rectangle */
    transform: rotate(45deg);   /* at a 45 degree angle. (Do not change as below cos() will fail) */
}
</style>
<style id="stl-widget-ribbon-fixed-ie">
/***************************/
/* fork ribbon IE specific */
/***************************/
.fork {
    /* for IE, fixed responsive sizes (or use some 'CSS custom variables' polyfill) */
    width    : calc(5vmin     + 10.25rem); /* (320,180)(1920,260) */
    height   : calc(0.5vmin   +  1.4rem) ; /* (320, 24)(1920, 32) */
    font-size: calc(0.625vmin +  0.5rem) ; /* (320, 10)(1280, 16) */
    /* 
        officially: y = calc(m * 100vmin + b),
        but m values are *100 to remove * 100vmin from equation

        Also: to make results root independent, multiply REM values with 16 and add PX unit
    */
}
.fork a { border-width: 2px 0 }

.fork.tr45deg {
    /* ribbon scale  = 1.1      */
    /* sqrt(2)       = 1.41421… */
    /* (180-45deg)/2 = 67.5     */
    /* cos(67.5)^2   = 0.38268343^2 = 0.1464466, to move element right */
    /* to go above top and beyond right margins: multiply with -1 to negate final result */

    /* after 45deg rotation (pivot around top/left corner) 'fork' height becomes diagonal of a square */
    /* To get the side (height and/or width) of a square from its diagonal (= hypotenuse of a traingle)
       => hypotenuse / sqrt(2) */

    /* to move 'fork' up: ribbon height (which is now hypotenuse) / 1.4142 */
    /* where height = 0.5vmin + 1.4rem * scale */

    /* distance to go right = (hypotenuse / 1.4142) + (2 * width * cos^2) * scale * -1 */
    /* (discussed and verified on 'MathIsFun Forum': http://www.mathisfunforum.com/viewtopic.php?id=25620) */
    /* This works like a charm, so cool! (Thanks a bunch, Bob) */

    top  : calc(  (0.5vmin + 1.4rem) / 1.41421 * 1.1 * -1 );
    right: calc((((0.5vmin + 1.4rem) / 1.41421) + (2 * (5vmin + 10.25rem) * 0.1464466)) * 1.1 * -1);
}
</style>
<style id="stl-widget-ribbon-custom-variables">
/*************************************/
/* fork ribbon with custom variables */
/*************************************/
.fork {
    --fork-bd : 2px; /* border width */

    /* variable scaling */
    --fork-scale     : 1.1; /* set these to your desired scales */
    --fork-scale-text: 1;

    --fork-wm: 0.05   ; --fork-wb: 10.25rem;  /* m and b variables to calculate y, ribbon width */
    --fork-hm: 0.005  ; --fork-hb: 1.4rem;    /* ditto for height */
    --fork-fm: 0.00625; --fork-fb: 0.5rem;    /* ditto for font-size */

    /* do not modify */
    --fork-x: 100vmin;      /* x is always 100vmin */
    --sqrt-2: 1.41421;      /* sqrt(2) ~ 1.4142135... */
    --cos2   : 0.1464466;   /* cos(67.5) where 67.5 = (180deg - 45deg) / 2, need cos(67.5)^2 = 0.1464466 */
                            /* Used to move rotated ribbon up and right */
}
.fork a { border-width: var(--fork-bd) 0 }

.fork { /* default ribbon */
    width    : calc((var(--fork-wm) * var(--fork-x) + var(--fork-wb)) * var(--fork-scale));      /* (320,180)(1920,260) */
    height   : calc((var(--fork-hm) * var(--fork-x) + var(--fork-hb)) * var(--fork-scale));      /* (320, 24)(1920, 32) */
    font-size: calc((var(--fork-fm) * var(--fork-x) + var(--fork-fb)) * var(--fork-scale-text)); /* (320, 10)(1280, 16) */
}
.fork.tr45deg {
    /*
        cos   = cos((180 - 45)/2)
        w = r = (wm * x + wb)
        h     = (hm * x + hb) / sqrt2
        shift = 2 * r * cos(67.5)^2

        move above top border
        top   = (hm * x + hb) / sqrt2 * scale * -1

        move beyond right border
        right = (((hm * x + hb) / sqrt2) + (2 * (wm * x + wb) * cos * cos)) * scale * -1
    */
    top  : calc(  (var(--fork-hm) * var(--fork-x) + var(--fork-hb)) / var(--sqrt-2) * var(--fork-scale) * -1);
    right: calc((((var(--fork-hm) * var(--fork-x) + var(--fork-hb)) / var(--sqrt-2)) + (2 * (var(--fork-wm) * var(--fork-x) + var(--fork-wb)) * var(--cos2))) * var(--fork-scale) * -1);
}
</style>
<style id="stl-widget-ribbon-theme-default">
/***********************/
/* fork ribbon theming */
/***********************/
.fork {
    background-color: Black; color: White;

    box-shadow: 0px 3px 5px -1px rgba(0,0,0,.4);
    opacity: 0.9;
}
.fork:hover { opacity: 1 }

.fork a {
    line-height: 1.5; /* change lh to move borders up down */

    font-weight: bold; color: inherit; white-space: nowrap;
    text-decoration: none; text-align: center;
    border-style: dotted; border-color: inherit transparent;
}
</style>
<style id="stl-widget-ribbon-examples">
/*****************************************/
/* Example ribbons used in this document */
/*****************************************/
[ribbon*="1"] { --fork-wb:  2.25rem; background-color: Yellow; color: black; } /* ribbon 1: calc(5vmin +  2.25rem) (320, 52)(1920,132) */
[ribbon*="2"] { --fork-wb:  6.25rem; background-color: Tomato; color: black; } /* ribbon 2: calc(5vmin +  6.25rem) (320,116)(1920,196) */
[ribbon*="3"] { --fork-wb: 10.25rem; background-color: rgba(0,0,0,.8); }         /* ribbon 3: calc(5vmin + 10.25rem) (320,180)(1920,260) */
[ribbon*="4"] { --fork-wb: 14.25rem; background-color: DarkSlateGrey; }        /* ribbon 4: calc(5vmin + 14.25rem) (320,244)(1920,324) */
[ribbon*="5"] { --fork-wb: 18.25rem; background-color: DarkSlateBlue; }        /* ribbon 5: calc(5vmin + 18.25rem) (320,308)(1920,388) */
</style>

<style id="stl-globals-default">
/**************************/
/* preferred global rules */
/**************************/
html,body           { box-sizing: border-box; margin: 0 }
body                { min-height: 100vh }

*::before,*::after,
 *                  { box-sizing: inherit }

img                 { width: 100%; display: block; object-fit: cover }
sup                 { vertical-align: super; font-size: 0.625em }

:focus              { outline: -webkit-focus-ring-color auto 0; outline-width: 0 } /* for Edge 2020 */
::-moz-focus-inner  { padding: 0; border: 0 } /* Kill Firefox outline */
</style>
<style id="stl-globals-custom-variables-default">
/***************************/
/* Preferred font defaults */
/***************************/
:root{
    /* document font defaults */
    --lh: 1.5;                      /* line-height */
    --fw: 400;                      /* font-weight */

    --ff: 'Open Sans', sans-serif;  /* font-families */
    --ffs: 'Cutive', serif;

    --ffm: 'Inconsolata','Cutive Mono', monospace; --lhm: normal; --fwm: 500;
}
body { font-family: var(--ff); line-height: var(--lh) }
</style>
<style id="stl-globals-typography-default">
/***********************************/
/* Default global typography rules */
/***********************************/
:root{
    /* making sure base fontsize is 100% of users' browser font settings */
    font-size: 100% !important; /* unless overridden by some injected code */
}
/* Responsive body font size (320,14)(1280,20) */
/* Original style without 'custom variables', IE11 requires this style */

/* Full equation */
/*body { font-size: calc((14 / 16 * 1rem) + (20 - 14) / (1280 - 320) * (100vmin - 320px)) }/**/

/* simplified, but same result as above */
body { font-size: calc(0.625vmin + 0.75rem) }

h1  { font-size: 2rem } /* override FF+ H1 nesting behaviour */
a   { color: inherit }
</style>
<style id="stl-globals-flexbox-banding-default">
/******************/
/* simple banding */
/******************/
[simple-band] {
    display: flex; flex-flow: row wrap;
    justify-content: center; align-content: center;
}
/***************************************/
/* responsive FLEXBOX bands and blocks */
/***************************************/
/*
    For use as easy 'landingpage' content containers
    [band]  - horizontal content like a strip
    [block] - vertical content like a list

    - Can both be used interchangeably and nested
      (band of blocks, block of bands, band of blocks holding bands…)
    - Invert orientation with 'rows'/'cols' parameter ( *= means: contains )

    Note: only works from IE11 and up (huh? up?)
*/
[band]                  { position: relative; width: 100% }

[band],[block]          { display: flex; justify-content: center; align-content: center }

[band],[band*="cols"]   { flex-flow: row wrap    }  /* a row of columns, default */
       [band*="rows"]   { flex-flow: column wrap }  /* a column of rows */

[block],[block*="rows"] { flex-flow: column wrap }  /* inverse default of [band] */
        [block*="cols"] { flex-flow: row wrap    }
</style>
<style id="stl-globals-flexbox-simple-default">
/******************/
/* FLEXBOX LAYOUT */
/******************/

/* [MANDATORY] => last FBL rules in line so they can override above setttings */

/* simple flexbox shortcuts */
[F]         { display: flex }
[R]         { flex-direction: row }
[C]         { flex-direction: column }
[W]         { flex-wrap: wrap }

div,item    { display: flex }
div         { flex-flow: row wrap }     /* a row of columns */
item        { flex-flow: column wrap }  /* a column of rows */
</style>
<style id="stl-globals-spacing-alignment-default">
/*******************************/
/* global spacing and aligment */
/*******************************/
p {
    margin: 0; /* no outer space */
    padding:  calc((1.25vmin + 0.75rem) / 2) 0 0 0; /* (320,16)(1920,36), inner space */
}

/*
    responsive page padding
    and responsive band padding (same as responsive page padding, but at band level)
    p1(320,32) p2(1920, 72) => 0.025x + 24
    p3(320, 8) p4(1920,320) => 0.195x - 54.4 

    'Band padding' is only active when 'page padding' is off

*/
/*    WIP newTB: calc(4vmin + 37.2px); /* (320,50)(1920,114) */
/*        newLR: calc(68.75vmin - 200px); /* (320,20)(1920,1120) */

[padded="1"],
[simple-band],
[padded="0"] [band*="padded"]   { padding: calc( 2.5vh + 1.5rem)    calc(19.5vw - 3.4rem) }
[padded="0"] [band*=".x0"]      { padding: calc((2.5vh + 1.5rem)/2) calc(19.5vw - 3.4rem) }
[padded="0"] [band*=".x2"]      { padding: calc((2.5vh + 1.5rem)*2) calc(19.5vw - 3.4rem) }

[padded="1"] [band*="padded"]   { padding: calc( 2.5vh + 1.5rem) 0 }

[push*="C"] { margin: 0 auto      } /* center element */
[push*="R"] { margin-left  : auto } /* push elements Right/Left/Top/Bottom */
[push*="L"] { margin-right : auto }
[push*="T"] { margin-top   : auto }
[push*="B"] { margin-bottom: auto }

[align*="C"] { text-align: center  } /* text alignment */
[align*="J"] { text-align: justify }
[align*="L"] { text-align: left    }
[align*="R"] { text-align: right   }
[align*="V"] { align-items: center }

[outside],
[outside="H"] { margin: auto calc(50% - 50vw) }
[outside="V"] { margin: calc(50% - 50vh) auto }
</style>
<style id="stl-globals-utility-default">
/**************************************************/
/* Utility rules, first so they can be overridden */
/**************************************************/
body  { cursor: default } /* Plain arrow for everything, but… */
input { cursor: auto    } /* …use HTML default cursor on inputs, unless it is an: */

input[list="datalist"],
input[type="button"  ],
input[type="checkbox"],
input[type="radio"   ],
input[type="color"   ],
input[type="range"   ],
input[type="reset"   ],
input[type="file"    ],
input[type="submit"  ],
label:not([for=""]),
a,button,select,keygen   { cursor: pointer } 
[contenteditable="true"] { cursor: text    }

/* Darker/more contrast text (put in <body>)
   => GPU intensive, set default to "0" if document scroll feels too sluggish. */
[cleartype="1"] { text-shadow: .1px  .1px .2px hsla(0,0%,15%,.35),
                              -.1px -.1px .2px hsla(0,0%,15%,.25) }
h1,h2,h3,h4,h5,h6,b,strong,
[cleartype="0"] { text-shadow: none } /* exceptions, no need to go even 'bolder' */

hr { 
    display: block; width: 100%;
    margin-top   : 0;
    margin-bottom: 0.75em;
    margin-left  : auto;
    margin-right : auto;
}

/* prohibit user from selecting text (put in <body>) */
[no-select] { -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none }
[do-select] { -webkit-user-select: text; -moz-user-select: text; -ms-user-select: text; user-select: text; cursor: auto }
/* enable user to select text (put in specific elements) */

[hide], [data-hide="1"], [plain="1"] {
    display: none; position: absolute; overflow: hidden; clip: rect(0 0 0 0);
    z-index: -999999; top: -999999px; margin: -1px; padding: 0; border: 0;
    height: 1px; width: 1px; min-height: 0; min-width: 0; max-height: 0; max-width: 0
}

/* show all elements with outlines (put in <body>) */
[outlines="1"] ::-moz-focus-inner { padding: 0; border: 0 } /* Kills FF extra outline */
[outlines="1"] *                  { outline: 1px dashed }
</style>

<style id="stl-theme-1-default">
/*****************************************/
/* Main Theme: DarkSlateGrey and EggYoke */
/*****************************************/
body                { background-color: rgba(47, 79, 79,.4); color: White }

h1,h2,h3,h4,h5,h6   { color: rgba(47, 79, 79,.56) }
b                   { color: rgba(47, 79, 79,.8) }

[band*="info"] h3,
[band*="info"] h5   { color: inherit; opacity: .56 }

strong              { color: rgba(255,204,1,1) }

hr                  { border: 1px solid rgba(47, 79, 79,.1); border-top: none }

/* Try and set 'column-rule' to 200px, just for fun! */
[newspaper]         { column-rule: 2px dotted rgba(255,204,1,.2) }

:focus              { outline: dotted rgba(47, 79, 79,.8) 2px }
::selection         { background-color: DarkSlateGrey; color: White }

/******************/
/* theme 1 colors */
/******************/
[clr="0"]           { background-color: rgba(47, 79, 79,.9); color: White }
[clr="1"]           { background-color: #fefefe; color: #1e1e1e }
[clr="2"]           { background-color: rgba(30,30,30,.95); color: rgba(255,204,1,1) }
[clr="3"]           { background-color: rgba(255,204,1,1); color: #1e1e1e }
[clr="F"]           { background-color: White  ; color: black }
</style>

<style id="stl-page-specific-debug">
/***************************/
/* Rule for easy debugging */
/***************************/
[debug="0"] [band*="rulers"] { display: none }
[debug="1"] [band*="rulers"] { position: sticky; top: 0; z-index: 99999; align-items: center; overflow: hidden }

/* make red border touch left/right viewport sides to check sizes of elements at a given width */
[class^="rule"] {
    padding: 2px; margin: 2px 0; font-size: 0.625em;
    background-color: rgba(72,61,139,.8) /* DarkSlateBlue */; color: White;
    justify-content: center;
    border-color: red; border-style: solid; border-width: 0 4px
}
.rule-1 { width:  320px }
.rule-2 { width: 1280px }
.rule-3 { width: 1903px } /* 1920 - 17px for scrollbar */

[debug="1"] [data-LEC] {
    position: relative;
}
[debug="1"] [data-LEC]::after {
    position: absolute; bottom: -1.125em; left: 0; z-index: 1; color: purple;
    content: 'bla';
}
</style>
<style id="stl-page-specific-default">
/***************************************/
/* PAGE LAYOUT RULES (non-LEC related) */
/***************************************/
/* BAND rules */
[band*="hero"]          { align-content: center; align-items: center; text-align: center }
[band*="hero"]>*        { padding: 0 }

/* FONT rules */
[data-font]             { font-family: var(--ff); line-height: var(--lh); font-weight: var(--fw) }

[data-font*="hero"]     { --ff: var(--ffs) } /* getting serif font through 'var()' */
[data-font^="code"]     { --ff: var(--ffm); --lh: var(--lhm); font-weight: var(--fwm) } /* ditto for 'monospace' */

/* RECTANGLE/WIDTH/HEIGHT test rules */
.rect-test              { counter-reset: boxno; width: 100% }

[data-rect*="test"]     { justify-content: center; font-size: 0.75em }

[data-rect*="test"]>*   { counter-increment: boxno;
                          justify-content: center; align-content: flex-start;
                          width: 100%; margin: .125rem; padding: .25rem 1rem;
                          background-color: rgba(47, 79, 79,.9) /* DarkSlateGrey */; color: White }

[data-rect*="test"]>*>span         { width: 100%; text-align: right; font-weight: bold; color: rgba(255,204,1,1) }
[data-rect*="test"]>*>span::before { content: counter(boxno) }
</style>
<style id="stl-page-specific-cards">
.card-outer {
    /* width/height defined with LEC */
    font-size: calc(0.625vw + 6px);     /* (320,8)(1920,18) at 320 => 143/3.15 ~ 45% of fs at 1920 */
    padding  : calc(0.25vmin + 1.2px);  /* (320,2)(1920,6) */
}
.card-inner {
    width: 100%; height: 100%;      /* fill parent */
    padding: calc(0.5vw + 14.4px);  /* (320,16)(1920,24) GMC */

    background-color: rgba(255,204,1,1); color: Black;
}

/* Some eye-candy */
.card-inner {
    /* GMC elevation 1dp */
    box-shadow: 0px 2px 1px -1px rgba(0,0,0,.20),
                0px 1px 1px  0px rgba(0,0,0,.14),
                0px 1px 3px  0px rgba(0,0,0,.12);
}
.card-inner:hover {
    transform: scale(1.01);
    /* GMC elevation 3dp */
    box-shadow: 0px 3px 3px -2px rgba(0,0,0,.20),
                0px 3px 4px  0px rgba(0,0,0,.14),
                0px 1px 8px  0px rgba(0,0,0,.12);
}
.card-inner:active:not(:focus) { transform: scale(1) }
</style>

</head>

<body padded="0" outlines="0" debug="0">
<!--
<div class="fork tr45deg" ribbon="1"><a target="_blank" href="javascript:void(0)" data-ribbon="R1"></a></div>
<div class="fork tr45deg" ribbon="2"><a target="_blank" href="javascript:void(0)" data-ribbon="R2"></a></div>
-->
<div class="fork tr45deg" ribbon="3"><a target="_blank" href="https://github.com/renevanderlende/ers-css-fork-ribbon" data-ribbon="Ribbon at Github"></a></div>
<div class="fork tr45deg" ribbon="4"><a target="_blank" href="https://github.com/renevanderlende/renevanderlende.github.io/tree/master/js" data-ribbon="LinearToCalc Tool 1.1"></a></div>
<div class="fork tr45deg" ribbon="5"><a target="_blank" href="https://github.com/renevanderlende/ers-css-lec" data-ribbon="LEC at Github"></a></div>

<section band="padded.x2.hero" C clr="3">
    <p data-font="hero"    data-LEC=".FS.min.max">linear equations in CSS</p>
    <p data-font="subhero" data-LEC=".FS">creating responsive sizes</p>
    <p data-font="subline" data-LEC=".FS">part of 'easy responsiveness series'<sup>&#128526;</sup></p>
</section>

<section band="padded" C clr="0">
    <item>
        <p data-LEC="form1.FS">form1 .FS testing point-slope form</p>
        <p data-LEC="form2.FS">form2 .FS testing y-intercept form</p>
    </item>
</section>

<section band="rulers" C>
    <div class="rule-1"> 320px</div>
    <div class="rule-2">1280px</div>
    <div class="rule-3">1903px (1920 minus scrollbar)</div>
</section>

<section band="padded" C>
    <item>
        <p data-LEC=".FS.x1">.FS .x1 (document base fontsize)<br>14px at vmin = &nbsp;320px<br>20px at vmin = 1280px</p>
        <p data-LEC=".FS.x2">.FS .x2<br>28px at vmin = &nbsp;320px<br>40px at vmin = 1280px</p>
        <p data-LEC=".FS.x3">.FS .x3<br>42px at vmin = &nbsp;320px<br>60px at vmin = 1280px</p>
    </item>
</section>

<section band="padded" C>
    <p data-LEC=".FS" data-font="hero"   >HERO</p>
    <p data-LEC=".FS" data-font="subline">testing HERO and subline</p>
    <p>
        plain &lt;p&gt; for testing &lt;body&gt; font-size with 'hard-coded' linear equation: <em>calc(0.625vmin + 0.75rem)</em><br>
        Lorem ipsum dolor sit amet, exerci dolorem est ad. Sumo rebum prompta vim ad.
        Legendos expetendis id sed. Ex ius quem accusamus, pri et deleniti copiosae.
    </p>
    <p data-LEC=".FS" data-font="code">
        testing default 'code' font-size<br>
        Lorem ipsum dolor sit amet, exerci dolorem est ad. Sumo rebum prompta vim ad.
        Legendos expetendis id sed. Ex ius quem accusamus, pri et deleniti copiosae.
    </p>
    <p data-LEC=".FS.x2" data-font="code">
        testing 'code' font-size at scale x2<br>
        Lorem ipsum dolor sit amet, exerci dolorem est ad. Sumo rebum prompta vim ad.
        Legendos expetendis id sed. Ex ius quem accusamus, pri et deleniti copiosae.
    </p>
</section>

<section band="padded" C clr="1">
    <p>
        Lorem ipsum dolor sit amet, exerci dolorem est ad. Sumo rebum prompta vim ad.
        Legendos expetendis id sed. Ex ius quem accusamus, pri et deleniti copiosae.
    </p>
    <p data-LEC=".FS" data-font="code">
        generic rule (all rect elements)&emsp;: <b>[data-rect*="test"]>* { --x1: 320; --y1: 75; --x2: 1920; --y2: 225; --x: 100vw }</b><br>
        inline rules (single rect element): <b>data-LEC=".rect.PT.ratio"</b> or <b>data-LEC=".W.H.PT.ratio"</b> where '<b>.ratio</b>' is one of the predefined ratios.
    </p>

    <item class="rect-test">
        <h3>ratios high:low (.W .H .PT)</h3>
        <div data-rect="test">
            <div data-LEC=".W.H.PT.1:1  "><span></span>1:1    </div>
            <div data-LEC=".W.H.PT.2:1  "><span></span>2:1    </div>
            <div data-LEC=".W.H.PT.3:2  "><span></span>3:2    </div>
            <div data-LEC=".W.H.PT.4:3  "><span></span>4:3    </div>
            <div data-LEC=".W.H.PT.gr:1 "><span></span>1.618:1</div>
            <div data-LEC=".W.H.PT.16:9 "><span></span>16:9   </div>
            <div data-LEC=".W.H.PT.17:10"><span></span>17:10  </div>
        </div>
        <h3>ratios low:high (.W .H .PT)</h3>
        <div data-rect="test">
            <div data-LEC=".W.H.PT.1:1  "><span></span>1:1    </div>
            <div data-LEC=".W.H.PT.1:2  "><span></span>1:2    </div>
            <div data-LEC=".W.H.PT.2:3  "><span></span>2:3    </div>
            <div data-LEC=".W.H.PT.3:4  "><span></span>3:4    </div>
            <div data-LEC=".W.H.PT.1:gr "><span></span>1:1.618</div>
            <div data-LEC=".W.H.PT.9:16 "><span></span>9:16   </div>
            <div data-LEC=".W.H.PT.10:17"><span></span>10:17  </div>
        </div>
        <h3>ratios high:low (.W .H .LS)</h3>
        <div data-rect="test">
            <div data-LEC=".W.H.LS.1:1  "><span></span>1:1    </div>
            <div data-LEC=".W.H.LS.2:1  "><span></span>2:1    </div>
            <div data-LEC=".W.H.LS.3:2  "><span></span>3:2    </div>
            <div data-LEC=".W.H.LS.4:3  "><span></span>4:3    </div>
            <div data-LEC=".W.H.LS.gr:1 "><span></span>1.618:1</div>
            <div data-LEC=".W.H.LS.16:9 "><span></span>16:9   </div>
            <div data-LEC=".W.H.LS.17:10"><span></span>17:10  </div>
        </div>
        <h3>ratios low:high (.W .H .LS)</h3>
        <div data-rect="test">
            <div data-LEC=".W.H.LS.1:1  "><span></span>1:1    </div>
            <div data-LEC=".W.H.LS.1:2  "><span></span>1:2    </div>
            <div data-LEC=".W.H.LS.2:3  "><span></span>2:3    </div>
            <div data-LEC=".W.H.LS.3:4  "><span></span>3:4    </div>
            <div data-LEC=".W.H.LS.1:gr "><span></span>1:1.618</div>
            <div data-LEC=".W.H.LS.9:16 "><span></span>9:16   </div>
            <div data-LEC=".W.H.LS.10:17"><span></span>10:17  </div>
        </div>
    </item>
</section>

<section band="padded.x2.cardlist" data-rect="cardlist" clr="0" no-select>
    <div class="card-outer" data-LEC=".W.H.PT">
        <div class="card-inner">
            <p>The default card ratio is 1:1.<br><br>
               Lorem ipsum dolor sit amet, exerci dolorem est ad. Sumo rebum prompta vim ad.
               Legendos expetendis id sed. Ex ius quem accusamus, pri et deleniti copiosae.
            </p>
        </div>
    </div>
    <div class="card-outer" data-LEC=".W.H.PT">
        <div class="card-inner">
            <p>In this demo ratio it is 1.67:1<br><br>
               Lorem ipsum dolor sit amet, exerci dolorem est ad. Sumo rebum prompta vim ad.
               Legendos expetendis id sed. Ex ius quem accusamus, pri et deleniti copiosae.
            </p>
        </div>
    </div>
    <div class="card-outer" data-LEC=".W.H.PT">
        <div class="card-inner">
            <p>(--ratio: 1.67), which is not<br><br>
               Lorem ipsum dolor sit amet, exerci dolorem est ad. Sumo rebum prompta vim ad.
               Legendos expetendis id sed. Ex ius quem accusamus, pri et deleniti copiosae.
            </p>
        </div>
    </div>
    <div class="card-outer" data-LEC=".W.H.PT">
        <div class="card-inner">
            <p>one of the predefined ratios.<br><br>
               Lorem ipsum dolor sit amet, exerci dolorem est ad. Sumo rebum prompta vim ad.
               Legendos expetendis id sed. Ex ius quem accusamus, pri et deleniti copiosae.
            </p>
        </div>
    </div>
</section>

<script type="module" src="build/index.js"></script>
</body>
</html>


